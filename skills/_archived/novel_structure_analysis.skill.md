# 長篇小說結構分析技能

## 核心能力
從幾十萬字的長篇小說中快速識別整體結構。

## 結構識別模式

### 1. 章節標記識別
```regex
第[一二三四五六七八九十百千\d]+[章節回卷部篇]
Chapter \d+
CHAPTER \d+
Part \d+
卷[一二三四五六七八九十\d]+
```

### 2. 結構層級
- **部(Part)**: 最大敘事單元，通常對應故事大階段
- **卷(Volume)**: 次級單元，適合分季
- **章(Chapter)**: 基本敘事單元，1-3章=1集
- **節(Section)**: 場景級別

### 3. 敘事弧線識別
- **開端(Exposition)**: 前15-20% 世界觀建立、角色出場
- **發展(Rising Action)**: 20-50% 衝突升級、關係深化
- **高潮(Climax)**: 50-75% 主要衝突爆發
- **結局(Resolution)**: 75-100% 收尾、餘韻

## 章節密度分析

### 每章關鍵指標
| 指標 | 計算方式 | 意義 |
|------|----------|------|
| 字數 | 直接統計 | 章節篇幅 |
| 對話密度 | 引號內字數/總字數 | 動靜比例 |
| 角色出場數 | 人名識別 | 複雜度 |
| 場景數 | 時空轉換標記 | 節奏 |

### 分集映射建議
- **單線簡單章節**: 2章=1集
- **多線複雜章節**: 1章=1集
- **高潮章節**: 可擴展為1.5-2集

## 人物網絡快速識別

### 命名模式
- 中文：2-3字姓名 + 稱呼（老X、小X、X哥）
- 西方：First + Last Name + Nickname
- 日本：姓 + 名 + さん/くん/ちゃん

### 關係標記詞
父親/母親/兄弟/姐妹/朋友/敵人/情人/師傅/徒弟

## 輸出格式

```json
{
  "totalChapters": 120,
  "structure": {
    "type": "部-章",
    "levels": ["部(4)", "章(120)"]
  },
  "parts": [
    {
      "name": "第一部：起源",
      "chapters": [1, 30],
      "wordCount": 150000,
      "phase": "起"
    }
  ],
  "chapters": [
    {
      "number": 1,
      "title": "開篇",
      "startChar": 0,
      "endChar": 5000,
      "wordCount": 5000,
      "estimatedScenes": 3
    }
  ],
  "suggestedEpisodes": 40,
  "chapterToEpisodeRatio": "3:1"
}
```
